{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Basu\\\\Documents\\\\GitHub\\\\grootmartFrontend\\\\src\\\\components\\\\auth\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react'; // import AlertContext from '../../context/alert/alertContext';\n\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alert/alertContext';\nimport { withRouter } from 'react-router-dom';\nimport useStyles from './styles';\nimport LockOutlinedIcon from '@material-ui/icons/LockOpenOutlined';\nimport { Container, Avatar, Button, CssBaseline, TextField, Box, Modal, Typography, Paper } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = props => {\n  _s();\n\n  const classes = useStyles();\n  const alertContext = useContext(AlertContext);\n  const authContext = useContext(AuthContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    register,\n    error,\n    clearErrors,\n    isAuthenticated\n  } = authContext;\n  const {\n    open,\n    onModalClose\n  } = props;\n  useEffect(() => {\n    if (isAuthenticated) {\n      // redirect in react\n      props.history.push('/dashboard');\n    }\n\n    if (error === 'User already exists') {\n      setAlert(error, 'danger');\n      clearErrors();\n    } // eslint-disable-next-line\n\n  }, [error, isAuthenticated, props.history]);\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    password: '',\n    password2: ''\n  });\n  const {\n    name,\n    email,\n    password,\n    password2\n  } = user;\n\n  const onChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    }); // console.log('changed')\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); // console.log('Register Submit');\n\n    if (name === '' || email === '' || password === '') {\n      setAlert('Please enter all fields', 'danger');\n    } else if (password !== password2) {\n      setAlert('Passwords do not match', 'danger');\n    } else {\n      register({\n        name,\n        email,\n        password\n      });\n      onModalClose();\n    }\n  };\n\n  const handleClose = () => {\n    onModalClose();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onClose: handleClose,\n    open: open,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xs\",\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        color: \"secondary\",\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.avatar,\n          children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: onSubmit,\n          noValidate: true,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"name\",\n            label: \"name\",\n            name: \"name\",\n            value: name,\n            onChange: onChange,\n            autoComplete: \"name\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            label: \"Email Address\",\n            name: \"email\",\n            value: email,\n            onChange: onChange,\n            autoComplete: \"email\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            value: password,\n            onChange: onChange,\n            id: \"password\",\n            autoComplete: \"new-password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password2\",\n            label: \"Confirm Password\",\n            type: \"password\",\n            value: password2,\n            onChange: onChange,\n            id: \"password2\",\n            autoComplete: \"new-password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.submit,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 8,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            align: \"center\",\n            children: [\"Copyright \\xA9 \", new Date().getFullYear(), \" Grootmart, Inc\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"6RuDvkwGuzlapHXxOuuFRlUa7qo=\", false, function () {\n  return [useStyles];\n});\n\n_c = Register;\nexport default _c2 = withRouter(Register);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Register\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/Basu/Documents/GitHub/grootmartFrontend/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","AuthContext","AlertContext","withRouter","useStyles","LockOutlinedIcon","Container","Avatar","Button","CssBaseline","TextField","Box","Modal","Typography","Paper","Register","props","classes","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","open","onModalClose","history","push","user","setUser","name","email","password","password2","onChange","e","target","value","onSubmit","preventDefault","handleClose","paper","avatar","form","submit","Date","getFullYear"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\n// import AlertContext from '../../context/alert/alertContext';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport AlertContext from '../../context/alert/alertContext';\r\nimport { withRouter } from 'react-router-dom';\r\nimport useStyles from './styles';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOpenOutlined';\r\nimport {\r\n  Container,\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  TextField,\r\n  Box,\r\n  Modal,\r\n  Typography,\r\n  Paper,\r\n} from '@material-ui/core';\r\n\r\nconst Register = (props) => {\r\n  const classes = useStyles();\r\n  const alertContext = useContext(AlertContext);\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { setAlert } = alertContext;\r\n  const { register, error, clearErrors, isAuthenticated } = authContext;\r\n  const { open, onModalClose } = props;\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      // redirect in react\r\n      props.history.push('/dashboard');\r\n    }\r\n\r\n    if (error === 'User already exists') {\r\n      setAlert(error, 'danger');\r\n      clearErrors();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error, isAuthenticated, props.history]);\r\n\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    password2: '',\r\n  });\r\n\r\n  const { name, email, password, password2 } = user;\r\n\r\n  const onChange = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n    // console.log('changed')\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log('Register Submit');\r\n    if (name === '' || email === '' || password === '') {\r\n      setAlert('Please enter all fields', 'danger');\r\n    } else if (password !== password2) {\r\n      setAlert('Passwords do not match', 'danger');\r\n    } else {\r\n      register({\r\n        name,\r\n        email,\r\n        password,\r\n      });\r\n      onModalClose();\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onModalClose();\r\n  };\r\n\r\n  return (\r\n    <Modal onClose={handleClose} open={open}>\r\n      <Container maxWidth='xs'>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper} color='secondary'>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography variant='h5'>Sign up</Typography>\r\n          <form className={classes.form} onSubmit={onSubmit} noValidate>\r\n            <TextField\r\n              variant='outlined'\r\n              margin='normal'\r\n              required\r\n              fullWidth\r\n              id='name'\r\n              label='name'\r\n              name='name'\r\n              value={name}\r\n              onChange={onChange}\r\n              autoComplete='name'\r\n              autoFocus\r\n            />\r\n            <TextField\r\n              variant='outlined'\r\n              margin='normal'\r\n              required\r\n              fullWidth\r\n              id='email'\r\n              label='Email Address'\r\n              name='email'\r\n              value={email}\r\n              onChange={onChange}\r\n              autoComplete='email'\r\n              autoFocus\r\n            />\r\n            <TextField\r\n              variant='outlined'\r\n              margin='normal'\r\n              required\r\n              fullWidth\r\n              name='password'\r\n              label='Password'\r\n              type='password'\r\n              value={password}\r\n              onChange={onChange}\r\n              id='password'\r\n              autoComplete='new-password'\r\n            />\r\n            <TextField\r\n              variant='outlined'\r\n              margin='normal'\r\n              required\r\n              fullWidth\r\n              name='password2'\r\n              label='Confirm Password'\r\n              type='password'\r\n              value={password2}\r\n              onChange={onChange}\r\n              id='password2'\r\n              autoComplete='new-password'\r\n            />\r\n            <Button\r\n              type='submit'\r\n              fullWidth\r\n              variant='contained'\r\n              color='primary'\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n          </form>\r\n          <Box mt={8}>\r\n            <Typography variant='body2' color='textSecondary' align='center'>\r\n              Copyright &copy; {new Date().getFullYear()} Grootmart, Inc\r\n            </Typography>\r\n          </Box>\r\n        </Paper>\r\n      </Container>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default withRouter(Register);\r\n"]},"metadata":{},"sourceType":"module"}